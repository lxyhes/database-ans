{"version":3,"file":"preload.js","sources":["../electron/preload.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from 'electron'\r\n\r\n// 暴露给渲染进程的 API\r\ncontextBridge.exposeInMainWorld('electronAPI', {\r\n  // 通用 API 调用\r\n  apiCall: (method: string, endpoint: string, data?: any) => \r\n    ipcRenderer.invoke('api-call', { method, endpoint, data }),\r\n\r\n  // 数据查询\r\n  queryNaturalLanguage: (query: string) => \r\n    ipcRenderer.invoke('query-natural-language', query),\r\n  analyzeData: (query: string) => \r\n    ipcRenderer.invoke('analyze-data', query),\r\n\r\n  // 数据管理\r\n  getDataSummary: () => \r\n    ipcRenderer.invoke('get-data-summary'),\r\n  getTableSchema: (tableName: string) => \r\n    ipcRenderer.invoke('get-table-schema', tableName),\r\n  getAllTables: () => \r\n    ipcRenderer.invoke('get-all-tables'),\r\n\r\n  // 可视化\r\n  getDashboardData: () => \r\n    ipcRenderer.invoke('get-dashboard-data'),\r\n\r\n  // 查询历史\r\n  getQueryHistory: () => \r\n    ipcRenderer.invoke('get-query-history'),\r\n  saveQuery: (queryData: any) => \r\n    ipcRenderer.invoke('save-query', queryData),\r\n  toggleFavorite: (id: string, isFavorite: boolean) => \r\n    ipcRenderer.invoke('toggle-favorite', id, isFavorite),\r\n\r\n  // iFlow AI\r\n  iflowQuery: (prompt: string, functionType?: string) => \r\n    ipcRenderer.invoke('iflow-query', prompt, functionType),\r\n\r\n  // Qwen Code\r\n  codeAssistant: (action: string, data: any) => \r\n    ipcRenderer.invoke('code-assistant', action, data),\r\n\r\n  // 文件操作\r\n  importFile: (formData: any) => \r\n    ipcRenderer.invoke('import-file', formData),\r\n  exportData: (sql: string, format: 'excel' | 'csv') => \r\n    ipcRenderer.invoke('export-data', sql, format)\r\n})\r\n\r\n// 类型声明\r\ndeclare global {\r\n  interface Window {\r\n    electronAPI: {\r\n      apiCall: (method: string, endpoint: string, data?: any) => Promise<any>\r\n      queryNaturalLanguage: (query: string) => Promise<any>\r\n      analyzeData: (query: string) => Promise<any>\r\n      getDataSummary: () => Promise<any>\r\n      getTableSchema: (tableName: string) => Promise<any>\r\n      getAllTables: () => Promise<any>\r\n      getDashboardData: () => Promise<any>\r\n      getQueryHistory: () => Promise<any>\r\n      saveQuery: (queryData: any) => Promise<any>\r\n      toggleFavorite: (id: string, isFavorite: boolean) => Promise<any>\r\n      iflowQuery: (prompt: string, functionType?: string) => Promise<any>\r\n      codeAssistant: (action: string, data: any) => Promise<any>\r\n      importFile: (formData: any) => Promise<any>\r\n      exportData: (sql: string, format: 'excel' | 'csv') => Promise<any>\r\n    }\r\n  }\r\n}\r\n"],"names":["contextBridge","ipcRenderer"],"mappings":";;AAGAA,SAAAA,cAAc,kBAAkB,eAAe;AAAA;AAAA,EAE7C,SAAS,CAAC,QAAgB,UAAkB,SAC1CC,SAAAA,YAAY,OAAO,YAAY,EAAE,QAAQ,UAAU,KAAA,CAAM;AAAA;AAAA,EAG3D,sBAAsB,CAAC,UACrBA,SAAAA,YAAY,OAAO,0BAA0B,KAAK;AAAA,EACpD,aAAa,CAAC,UACZA,SAAAA,YAAY,OAAO,gBAAgB,KAAK;AAAA;AAAA,EAG1C,gBAAgB,MACdA,SAAAA,YAAY,OAAO,kBAAkB;AAAA,EACvC,gBAAgB,CAAC,cACfA,SAAAA,YAAY,OAAO,oBAAoB,SAAS;AAAA,EAClD,cAAc,MACZA,SAAAA,YAAY,OAAO,gBAAgB;AAAA;AAAA,EAGrC,kBAAkB,MAChBA,SAAAA,YAAY,OAAO,oBAAoB;AAAA;AAAA,EAGzC,iBAAiB,MACfA,SAAAA,YAAY,OAAO,mBAAmB;AAAA,EACxC,WAAW,CAAC,cACVA,SAAAA,YAAY,OAAO,cAAc,SAAS;AAAA,EAC5C,gBAAgB,CAAC,IAAY,eAC3BA,SAAAA,YAAY,OAAO,mBAAmB,IAAI,UAAU;AAAA;AAAA,EAGtD,YAAY,CAAC,QAAgB,iBAC3BA,SAAAA,YAAY,OAAO,eAAe,QAAQ,YAAY;AAAA;AAAA,EAGxD,eAAe,CAAC,QAAgB,SAC9BA,SAAAA,YAAY,OAAO,kBAAkB,QAAQ,IAAI;AAAA;AAAA,EAGnD,YAAY,CAAC,aACXA,SAAAA,YAAY,OAAO,eAAe,QAAQ;AAAA,EAC5C,YAAY,CAAC,KAAa,WACxBA,SAAAA,YAAY,OAAO,eAAe,KAAK,MAAM;AACjD,CAAC;"}